<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Rifa Navide√±a Premium</title>

<!-- TIPOGRAF√çAS PREMIUM -->
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    background: #f2f2f2;
    font-family: 'Montserrat', sans-serif;
    display: flex;
    justify-content: center;
    padding: 20px;
}

/* TARJETA PRINCIPAL */
#card {
    width: 360px;
    background: white;
    border-radius: 22px;
    padding: 20px;
    background-image: url('https://i.imgur.com/mf3QMKb.jpeg');
    background-size: cover;
    background-position: center;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    border: 4px solid #ffffffd5;
}

/* CONTENEDOR PARA LA CAPTURA 1080x1920 */
#clon {
    width: 1080px;
    height: 1920px;
    background-image: url('https://i.imgur.com/mf3QMKb.jpeg');
    background-size: cover;
    background-position: center;
    padding: 80px;
    display: none;
}

/* T√≠tulo estilo anuncio */
.title {
    text-align: center;
    font-size: 42px;
    line-height: 42px;
    font-family: 'Bebas Neue', sans-serif;
    color: #ffffff;
    text-shadow: 0 0 10px black;
    margin-bottom: 10px;
    font-weight: 900;
}

/* Nequi resaltado */
.nequi-box {
    background: #ffffffd9;
    padding: 12px;
    border-radius: 14px;
    border: 3px solid #d6006e;
    text-align: center;
    margin-bottom: 14px;
}

.nequi-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 32px;
    color: #d6006e;
    margin: 0;
}

.nequi-number {
    font-size: 28px;
    font-weight: 900;
    color: #000;
}

/* GRID */
.grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
}

.num {
    background: rgba(255,255,255,0.9);
    padding: 10px 0;
    border-radius: 12px;
    font-size: 20px;
    cursor: pointer;
    font-weight: 700;
    text-align: center;
    transition: .2s;
    border: 2px solid #ffffff;
}

.num:hover {
    background: #ffe07f;
}

.vendido {
    background: #cf0000 !important;
    color: white !important;
    border: 2px solid #ffffff;
}

/* BOTONES ‚Äî NO APARECEN EN LA CAPTURA */
.controls {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    gap: 10px;
}

button {
    background: #0066ff;
    border: none;
    padding: 10px 16px;
    color: white;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    font-size: 14px;
}

button:hover {
    background: #004ecc;
}
</style>

<!-- HTML2CANVAS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>

<div id="card">
    <div class="title">üéÑ RIFA NAVIDE√ëA üéÅ</div>

    <div class="nequi-box">
        <div class="nequi-title">PAGA POR NEQUI</div>
        <div class="nequi-number">314 815 7789</div>
    </div>

    <div id="grid" class="grid"></div>

    <!-- Botones fuera de captura -->
    <div class="controls">
        <button onclick="descargar()">Descargar</button>
        <button onclick="limpiar()">Limpiar</button>
    </div>
</div>

<!-- CLON PARA LA CAPTURA -->
<div id="clon"></div>

<script>
/* Crear la grid */
const grid = document.getElementById("grid");
for (let i = 1; i <= 100; i++) {
    let div = document.createElement("div");
    div.className = "num";
    div.textContent = i;
    div.onclick = () => toggle(i, div);
    grid.appendChild(div);
}

/* Restaurar vendidos */
window.onload = () => {
    const vendidos = JSON.parse(localStorage.getItem("vendidos") || "[]");
    vendidos.forEach(n => {
        let el = [...document.querySelectorAll(".num")].find(x => x.textContent == n);
        if (el) el.classList.add("vendido");
    });
};

/* Marcar vendido */
function toggle(num, el) {
    el.classList.toggle("vendido");

    const vendidos = [...document.querySelectorAll(".vendido")].map(x => x.textContent);
    localStorage.setItem("vendidos", JSON.stringify(vendidos));
}

/* Limpiar */
function limpiar() {
    document.querySelectorAll(".num").forEach(x => x.classList.remove("vendido"));
    localStorage.removeItem("vendidos");
}

/* Descargar */
function descargar() {
    const card = document.getElementById("card");
    const clon = document.getElementById("clon");

    clon.innerHTML = "";
    const copia = card.cloneNode(true);

    copia.querySelector(".controls").style.display = "none";
    copia.style.transform = "scale(3.05)";
    copia.style.transformOrigin = "top left";

    clon.appendChild(copia);
    clon.style.display = "block";

    html2canvas(clon, { scale: 1, useCORS: true }).then(canvas => {
        let link = document.createElement("a");
        link.download = "rifa.png";
        link.href = canvas.toDataURL();
        link.click();

        clon.style.display = "none";
    });
}
</script>

</body>
</html>







